{"version":3,"sources":["angular-material-datetimepicker.js"],"names":["ngMaterialDatePicker","moment","moduleName","VIEW_STATES","DATE","HOUR","MINUTE","css","el","name","angular","element","window","getComputedStyle","template","module","factory","default_params","date","time","minutes","seconds","format","minDate","maxDate","currentDate","lang","navigator","userLanguage","language","weekStart","shortTime","cancelText","okText","amText","pmText","todayBtn","todayText","disableDates","weekDays","disableParentScroll","autoOk","editInput","clickOutsideToClose","minuteSteps","showIcon","templateUrl","targetEvent","openFrom","closeTo","params","i","hasOwnProperty","directive","$mdDialog","$timeout","$compile","restrict","require","scope","ngModelOptions","ngChange","showTodaysDate","link","attrs","ngModel","isOn","offset","dateOfTheDay","undefined","isString","*","debounce","version","major","minor","$options","createChild","getOption","timezone","$formatters","push","value","m","isValid","$parsers","utcOffset","_tzm","$setValidity","isBefore","isAfter","_isUTC","toDate","openCalendar","e","preventDefault","blur","parent","removeClass","options","isUndefined","dialogOptions","controller","PluginController","controllerAs","locals","document","body","bindToController","hasBackDrop","skipHide","multiple","show","then","v","isSame","on","addClass","calendarButton","after","openCalendarDiag","clear","$setViewValue","$render","focus","$q","mdcDefaultParams","defaultParams","accepted_options","Object","keys","deferred","defer","copy","indexOf","resolve","reject","promise","$scope","this","currentView","_dialog","_attachedEvents","VIEWS","meridien","extend","init","$inject","prototype","timeMode","dateMode","initDates","start","currentNearestMinute","nearestMin","Math","round","minute","second","millisecond","that","_dateParam","input","fallback","ret","isDefined","locale","isDate","x","getTime","isMoment","map","selectDate","initDate","initHours","initMinutes","initSeconds","SECOND","isAfterMinDate","checkHour","checkMinute","_return","_minDate","_date","hour","parseInt","isBeforeMaxDate","checkTime","_maxDate","isInDisableDates","dut","isWeekDay","isoWeekday","calendarStart","isPM","incrementMonth","amount","isNextMonthVisible","add","isPreviousMonthVisible","incrementYear","isNextYearVisible","isPreviousYearVisible","openMenu","$mdMenu","ev","open","monthsAvailable","monthsArr","curMonth","month","endOf","startOf","selectMonth","yearsAvailable","len","startYear","yearsArr","year","selectYear","isHourAvailable","convertHours","isMinuteAvailable","_curmin","isSecondAvailable","today","ok","hide","cancel","selectMonthBefore","subtract","selectMonthAfter","selectYearBefore","selectYearAfter","selectAM","selectPM","h","okBtn","MONTHS_IN_ALL","Date","getFullYear","MONTHS","currentMonthIndex","low","picker","calendar","$onInit","days","length","toString","week","high","months","slice","topIndex","getItemAtIndex","index","floor","monthObj","generateMonthCalendar","$watch","val2","val1","nDate","startOfMonth","iNumDay","daysInMonth","iWeek","daysTmp","slices","ceil","j","toDay","substring","isInRange","isSelectedDay","isDateOfTheDay","buildCalendarContent","tbody","querySelector","cal","tbodyHtml","forEach","weekDay","scopeRef","html","join","idx","oldIdx","minuteMode","mode","secondMode","componentRoot","isTouchSupported","EVENTS","POINTER_DOWN","POINTER_UP","POINTER_MOVE","onMoveEvent","closestTarget","currentTarget","closest","clientRect","getClientRects","changedTouches","offsetWidth","pageX","left","y","pageY","top","offsetHeight","ray","sqrt","pow","deg","atan2","PI","val","divider","pointAvailable","setTimeDegRay","off","$on","animateHands","s","rotateElement","WebkitTransform","-moz-transform","-ms-transform","transform","setCurrentValue","nbH","currentValue","tmp","setTime","point","unWatcher","querySelectorAll","clock","pickerEl","w","pL","replace","pR","pT","mL","mR","mT","clockWidth","r","points","sin","cos","style","margin-left","margin-top","display","points24","j24","h24","left24","top24","clockCenter","centerWidth","centerHeight","_hL","_mL","_sL","height","marginTop","exec","isElectron","process","type","define","amd","exports","global"],"mappings":"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","file":"angular-material-datetimepicker.min.js","sourcesContent":["(function () {\n  'use strict';\n\n  function ngMaterialDatePicker(moment) {\n  var moduleName = \"ngMaterialDatePicker\";\n\n  var mdAccesTime = 'data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTExLjk5IDJDNi40NyAyIDIgNi40OCAyIDEyczQuNDcgMTAgOS45OSAxMEMxNy41MiAyMiAyMiAxNy41MiAyMiAxMlMxNy41MiAyIDExLjk5IDJ6TTEyIDIwYy00LjQyIDAtOC0zLjU4LTgtOHMzLjU4LTggOC04IDggMy41OCA4IDgtMy41OCA4LTggOHoiLz4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTIuNSA3SDExdjZsNS4yNSAzLjE1Ljc1LTEuMjMtNC41LTIuNjd6Ii8+PC9zdmc+';\n  var mdCalendar = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==';\n  \n  var VIEW_STATES = {DATE: 0, HOUR: 1, MINUTE: 2};\n\n  var css = function (el, name) {\n    el = angular.element(el);\n    return ('getComputedStyle' in window) ? window.getComputedStyle(el[0])[name] : el.css(name);\n  };\n\n  var template = \n    '<md-dialog class=\"dtp\" layout=\"column\">' +\n    '    <md-dialog-content class=\"dtp-content\">' +\n    '        <div class=\"dtp-date-view\">' +\n    '            <header class=\"dtp-header\">' +\n    '                <div class=\"dtp-actual-day\" ng-if=\"::picker.dateMode\">{{picker.currentNearestMinute().format(\"dddd\")}}</div>' +\n    '                <div class=\"dtp-actual-day\" ng-if=\"::!picker.timeMode\">{{picker.params.shortTime?picker.currentDate.format(\"A\"):\" \"}}</div>' +\n    '                <div class=\"dtp-close text-right noselect\">' +\n    '                    <a href=\"#\" mdc-dtp-noclick ng-click=\"picker.hide()\">&times;</a>' +\n    '                </div>' +\n    '            </header>' +\n    '            <div class=\"dtp-date\" ng-if=\"picker.params.date\">' +\n    '                <div layout=\"row\">' +\n    '                    <div ng-click=\"picker.incrementMonth(-1)\" class=\"dtp-month-btn dtp-month-btn-prev noselect\" flex=\"30\"><span ng-if=\"picker.isPreviousMonthVisible()\">&#x25C4;</span></div>' +\n    '                    <md-menu md-offset=\"8 10\" flex>' +\n    '                        <div class=\"dtp-actual-month\" flex ng-click=\"picker.openMenu($mdMenu, $event)\">{{picker.currentDate.format(\"MMM\")|uppercase}}</div>' +\n    '                        <md-menu-content class=\"dtp-month-list\">' +\n    '                            <md-menu-item ng-repeat=\"itemMonth in picker.monthsAvailable() track by $index\">' +\n    '                            <md-button ng-click=\"picker.selectMonth(itemMonth)\">{{itemMonth}}</md-button>' +\n    '                            </md-menu-item>' +\n    '                        </md-menu-content>' +\n    '                    </md-menu>' +\n    '                    <div ng-click=\"picker.incrementMonth(1)\" class=\"dtp-month-btn dtp-month-btn-next noselect\" flex=\"30\"><span ng-if=\"picker.isNextMonthVisible()\">&#x25BA;</span></div>' +\n    '                </div>' +\n    '                <div class=\"dtp-actual-num\">{{picker.currentDate.format(\"DD\")}}</div>' +\n    '                <div layout=\"row\">' +\n    '                    <div ng-click=\"picker.incrementYear(-1)\" class=\"dtp-year-btn dtp-year-btn-prev noselect\" flex=\"30\"><span ng-if=\"picker.isPreviousYearVisible()\">&#x25C4;</span></div>' +\n    '                    <md-menu md-offset=\"8 10\" flex>' +\n    '                        <div class=\"dtp-actual-year\" flex ng-click=\"picker.openMenu($mdMenu, $event)\">{{picker.currentDate.format(\"YYYY\")}}</div>' +\n    '                        <md-menu-content class=\"dtp-year-list\">' +\n    '                            <md-menu-item ng-repeat=\"itemYear in picker.yearsAvailable() track by $index\">' +\n    '                            <md-button ng-click=\"picker.selectYear(itemYear)\">{{itemYear}}</md-button>' +\n    '                            </md-menu-item>' +\n    '                        </md-menu-content>' +\n    '                    </md-menu>' +\n    '                    <div ng-click=\"picker.incrementYear(1)\" class=\"dtp-year-btn dtp-year-btn-next noselect\" flex=\"30\"><span ng-if=\"picker.isNextYearVisible()\">&#x25BA;</span></div>' +\n    '                </div>'+\n    '            </div>' + //start time \n    '            <div class=\"dtp-time\" ng-if=\"picker.params.time&&!picker.params.date\">' +\n    '                <div class=\"dtp-actual-maxtime\">' +\n    '                    <span ng-if=\"!picker.params.seconds\"><span ng-class=\"{selected:picker.currentView===picker.VIEWS.HOUR}\">{{picker.currentNearestMinute().format(picker.params.shortTime ? \"hh\":\"HH\")}}</span>:<span ng-class=\"{selected: picker.currentView===picker.VIEWS.MINUTE}\">{{picker.currentNearestMinute().format(\"mm\")}}</span></span>'+\n    '                    <span ng-if=\"picker.params.seconds\"><span ng-class=\"{selected:picker.currentView===picker.VIEWS.HOUR}\">{{picker.currentNearestMinute().format(picker.params.shortTime ? \"hh\":\"HH\")}}</span>:<span ng-class=\"{selected: picker.currentView===picker.VIEWS.MINUTE}\">{{picker.currentNearestMinute().format(\"mm\")}}</span>:<span ng-class=\"{selected: picker.currentView===picker.VIEWS.SECOND}\">{{picker.currentNearestMinute().format(\"ss\")}}</span></span>'+\n    '                    <span class=\"dtp-actual-meridien\" ng-if=\"picker.params.shortTime\">{{picker.currentDate.format(\"A\")}}</span>'+\n    '                </div>' +\n    '            </div>' +\n    '            <div class=\"dtp-picker\">' +\n    '                <mdc-datetime-picker-calendar date=\"picker.currentDate\" picker=\"picker\" class=\"dtp-picker-calendar\" ng-if=\"picker.currentView===picker.VIEWS.DATE\"></mdc-datetime-picker-calendar>' +\n    '                <div class=\"dtp-picker-datetime\" ng-cloak ng-if=\"picker.currentView!==picker.VIEWS.DATE\">' +\n    '                    <div class=\"dtp-actual-meridien\">' +\n    '                        <div ng-if=\"picker.params.shortTime\" class=\"left p20\">' +\n    '                            <a id=\"time-periods-am\" href=\"#\" mdc-dtp-noclick class=\"dtp-meridien-am\" ng-class=\"{selected:picker.meridien===\\'AM\\'}\" ng-click=\"picker.selectAM()\">{{::picker.params.amText}}</a>' +\n    '                        </div>' +\n    '                        <div ng-if=\"!picker.timeMode&&!picker.params.seconds\" class=\"dtp-actual-time p60\">' +\n    '                            <span ng-class=\"{selected:picker.currentView===picker.VIEWS.HOUR}\">{{picker.currentNearestMinute().format(picker.params.shortTime?\"hh\":\"HH\")}}</span>:<span ng-class=\"{selected:picker.currentView===picker.VIEWS.MINUTE}\">{{picker.currentNearestMinute().format(\"mm\")}}</span>' +\n    '                        </div>' +\n    '                        <div ng-if=\"!picker.timeMode&&picker.params.seconds\" class=\"dtp-actual-time p60\">' +\n    '                            <span ng-class=\"{selected: picker.currentView===picker.VIEWS.HOUR}\">{{picker.currentNearestMinute().format(picker.params.shortTime?\"hh\":\"HH\")}}</span>:<span ng-class=\"{selected:picker.currentView===picker.VIEWS.MINUTE}\">{{picker.currentNearestMinute().format(\"mm\")}}</span>:<span ng-class=\"{selected:picker.currentView===picker.VIEWS.SECOND}\">{{picker.currentNearestMinute().format(\"ss\")}}</span>' +\n    '                        </div>' +\n    '                        <div ng-if=\"picker.params.shortTime\" class=\"right p20\">' +\n    '                            <a id=\"time-periods-pm\" href=\"#\" mdc-dtp-noclick class=\"dtp-meridien-pm\" ng-class=\"{selected:picker.meridien===\\'PM\\'}\" ng-click=\"picker.selectPM()\">{{::picker.params.pmText}}</a>' +\n    '                        </div>' +\n    '                        <div class=\"clearfix\"></div>' +\n    '                    </div>' +\n    '                    <mdc-datetime-picker-clock mode=\"hours\" ng-if=\"picker.currentView===picker.VIEWS.HOUR\"></mdc-datetime-picker-clock>' +\n    '                    <mdc-datetime-picker-clock mode=\"minutes\" ng-if=\"picker.currentView===picker.VIEWS.MINUTE\"></mdc-datetime-picker-clock>' +\n    '                    <mdc-datetime-picker-clock mode=\"seconds\" ng-if=\"picker.currentView===picker.VIEWS.SECOND\"></mdc-datetime-picker-clock>' +\n    '                </div>' +\n    '            </div>' +\n    '        </div>' +\n    '    </md-dialog-content>' +\n    '    <md-dialog-actions class=\"dtp-buttons\">' +\n    '        <md-button ng-if=\"::picker.params.todayBtn\" class=\"dtp-btn-today md-button\" ng-click=\"picker.today()\"> {{::picker.params.todayText}}</md-button>' +\n    '        <md-button class=\"dtp-btn-cancel md-button\" ng-click=\"picker.cancel()\"> {{::picker.params.cancelText}}</md-button>' +\n    '        <md-button class=\"dtp-btn-ok md-button\" ng-click=\"picker.ok()\"> {{::picker.params.okText}}</md-button>' +\n    '    </md-dialog-actions>' +\n    '</md-dialog>';\n\n  angular.module(moduleName, ['ngMaterial'])\n    .factory('mdcDefaultParams', function () {\n      var default_params = {\n        date: true,\n        time: true,\n        minutes: true,\n        seconds: false,\n        format: 'YYYY-MM-DD',\n        minDate: null,\n        maxDate: null,\n        currentDate: null,\n        lang: window.navigator.userLanguage || window.navigator.language || 'en',\n        weekStart: 0,\n        shortTime: false,\n        cancelText: 'Cancel',\n        okText: 'OK',\n        amText: 'AM',\n        pmText: 'PM',\n        todayBtn: true,\n        todayText: 'Today',\n        disableDates: [],\n        weekDays: false,\n        disableParentScroll: false,\n        autoOk: false,\n        editInput: false,\n        clickOutsideToClose: false,\n        minuteSteps: 5,\n        showIcon: false,\n        template: template,\n        templateUrl: '',\n        targetEvent: null,\n        openFrom: null,\n        closeTo: null\n      };\n\n      return function (params) {\n        if (params) {\n          for (var i in params) {\n            if (default_params.hasOwnProperty(i) && params.hasOwnProperty(i)) default_params[i] = params[i];\n          }\n        }\n        return default_params;\n      };\n    })\n    .directive('mdcDatetimePicker', ['$mdDialog', '$timeout', '$compile',\n      function ($mdDialog, $timeout, $compile) {\n\n        return {\n          restrict: 'A',\n          require: 'ngModel',\n          scope: {\n            currentDate: '=ngModel',\n            ngModelOptions: '=',\n            ngChange: '&',\n            time: '=',\n            date: '=',\n            minutes: '=',\n            seconds: '=',\n            minDate: '=',\n            maxDate: '=',\n            disableDates: '=',\n            weekDays: '=',\n            shortTime: '=',\n            weekStart: '=',\n            format: '@',\n            cancelText: '@',\n            okText: '@',\n            lang: '@',\n            amText: '@',\n            pmText: '@',\n            showTodaysDate: '@',\n            todayBtn: '=',\n            todayText: '@',\n            disableParentScroll: '=',\n            autoOk: '=',\n            editInput: '=',\n            clickOutsideToClose: '=',\n            minuteSteps: '=',\n            showIcon: '=',\n            templateUrl: '@',\n          },\n          link: function (scope, element, attrs, ngModel) {\n            var isOn = false;\n            if (!scope.format) {\n              if (scope.date && scope.time && scope.seconds) scope.format = 'YYYY-MM-DD HH:mm:ss';\n              else if (scope.date && scope.time) scope.format = 'YYYY-MM-DD HH:mm';\n              else if (scope.date) scope.format = 'YYYY-MM-DD';\n              else scope.format = 'HH:mm';\n            }\n\n            var dateOfTheDay = null;\n            if (scope.showTodaysDate !== undefined && scope.showTodaysDate !== \"false\") {\n              dateOfTheDay = moment();\n            }\n\n            if (angular.isString(scope.currentDate) && scope.currentDate !== '') {\n              scope.currentDate = moment(scope.currentDate, scope.format);\n            }\n\n            var offset;\n            if (ngModel) {\n              var ngModelOptions = {'*': '$inherit', debounce: 500};\n              if (angular.version.major === 1 && angular.version.minor > 5) {\n                ngModel.$options = ngModel.$options.createChild(ngModelOptions);\n                if (ngModel.$options.getOption('timezone')) offset = ngModel.$options.getOption('timezone');\n              } else {\n                if (scope.ngModelOptions && scope.ngModelOptions.timezone) ngModelOptions.timezone = scope.ngModelOptions.timezone;\n                ngModel.$options = ngModelOptions;\n                if (ngModel.$options.timezone) offset = ngModel.$options.timezone;\n              }\n              if (offset==='utc' || offset==='UTC') offset = 0;\n      \n              ngModel.$formatters.push(function (value) {\n                if (typeof value === 'undefined') return;\n                var m = moment(value);\n                return m.isValid() ? m.format(scope.format) : '';\n              });\n              \n              ngModel.$parsers.push(function (value) {\n                if (typeof value === 'undefined') return;\n                \n                var m = moment(value, scope.format);\n                if (offset !== undefined) m.utcOffset(offset, m._tzm === undefined);\n                if (scope.minDate) ngModel.$setValidity('min', !m.isBefore(scope.minDate));\n                if (scope.maxDate) ngModel.$setValidity('max', !m.isAfter(scope.maxDate));\n                ngModel.$setValidity('format', moment(value, scope.format, true).isValid());\n\n                return m.isValid() ? (m._isUTC ? m : m.toDate()) : '';\n              });\n              \n            }\n\n            function openCalendar(e) {\n              e.preventDefault();\n              element.blur();\n              element.parent().removeClass('md-input-focused');\n              if (isOn) {\n                return;\n              }\n              isOn = true;\n              var options = {};\n              for (var i in attrs) {\n                if (scope.hasOwnProperty(i) && !angular.isUndefined(scope[i])) {\n                  options[i] = scope[i];\n                }\n              }\n              options.currentDate = scope.currentDate;\n              options.showTodaysDate = dateOfTheDay;\n\n              var dialogOptions = {\n                controller: PluginController,\n                controllerAs: 'picker',\n                locals: {options: options},\n                openFrom: element,\n                closeTo: element,\n                parent: angular.element(document.body),\n                bindToController: true,\n                clickOutsideToClose: options.clickOutsideToClose || false,\n                disableParentScroll: options.disableParentScroll || false,\n                hasBackDrop: false,\n                skipHide: true,\n                multiple: true,\n              };\n\n              if (!options.templateUrl) dialogOptions.template = template;\n              else dialogOptions.templateUrl = options.templateUrl;\n              \n              $mdDialog.show(dialogOptions).then(function(v) {\n\n                if (offset !== undefined) v.utcOffset(offset, true);\n\n                scope.currentDate = v && !v._isUTC ? v.toDate() : v;\n                isOn = false;\n\n                if (!moment(scope.currentDate).isSame(options.currentDate)) {\n                  $timeout(scope.ngChange, 0);\n                }\n\n                element.parent().removeClass('md-input-focused');\n              }, function () {\n                isOn = false;\n                element.parent().removeClass('md-input-focused');\n              });\n            }\n\n            if (!scope.editInput) {\n              if (scope.showIcon) {\n                element.on('click', openCalendar);\n              } else {\n                element.on('focus', openCalendar);\n              }\n            }\n            \n            if (scope.showIcon) {\n              element.addClass('dtp-no-msclear dtp-input');\n              var calendarButton =\n              '<md-button class=\"dtp-btn-calendar md-icon-button\" type=\"button\"' +\n                'tabindex=\"-1\" aria-hidden=\"true\" ' +\n                'ng-click=\"openCalendarDiag($event)\">' +\n                '<md-icon aria-label=\"md-calendar\" md-svg-src=\"' + (scope.date ? mdCalendar : mdAccesTime) + '\"></md-icon>' +\n              '</md-button>',\n              clearButton = '<md-button ng-show=\"currentDate\" class=\"md-icon-button dtp-clear\" aria-hidden=\"true\" ng-click=\"clear()\">&#x2715;</md-button>';\n              element.after($compile(calendarButton + clearButton)(scope));\n\n              scope.openCalendarDiag = function(e) {\n                openCalendar(e);\n              };\n\n              scope.clear = function() {\n                ngModel.$setViewValue(null);\n                scope.currentDate = null;\n                ngModel.$render();\n                $timeout(function() {\n                  scope.ngChange();\n                  element[0].focus();\n                }, 0, false);\n              };\n            }\n          }\n        };\n      }])\n    // Returns a service that opens a dialog when the attribute shown is called\n    .factory('mdcDateTimeDialog', [\"$mdDialog\", \"$q\", \"mdcDefaultParams\", function ($mdDialog, $q, mdcDefaultParams) {\n      var defaultParams = mdcDefaultParams();\n      var accepted_options = Object.keys(defaultParams);\n      var service = {\n        show: function (options) {\n          var deferred = $q.defer();\n          var params = angular.copy(defaultParams);\n          for (var i in options) {\n            if (accepted_options.indexOf[i] != -1 && options.hasOwnProperty(i)) {\n              params = options[i];\n            }\n          }\n\n          var dateOfTheDay = null;\n          if (options.showTodaysDate !== undefined && options.showTodaysDate !== \"false\") {\n            dateOfTheDay = moment();\n          }\n          options.showTodaysDate = dateOfTheDay;\n\n          var dialogOptions = {\n              controller: PluginController,\n              controllerAs: 'picker',\n              locals: {options: options},\n              parent: angular.element(document.body),\n              bindToController: true,\n              clickOutsideToClose: options.clickOutsideToClose || false,\n              disableParentScroll: options.disableParentScroll || false,\n              skipHide: true,\n              multiple: true,\n              targetEvent: options.targetEvent,\n              openFrom: options.openFrom,\n              closeTo: options.closeTo,\n          };\n\n          if (!options.templateUrl) dialogOptions.template = template;\n          else dialogOptions.templateUrl = options.templateUrl;\n\n          $mdDialog.show(dialogOptions).then(function (v) {\n            deferred.resolve(v && !v._isUTC ? v.toDate() : v);\n          }, function () {\n            deferred.reject();\n          });\n          return deferred.promise;\n        }\n      };\n\n      return service;\n    }])\n  ;\n\n  var PluginController = function ($scope, $mdDialog, mdcDefaultParams) {\n    this.currentView = VIEW_STATES.DATE;\n    this._dialog = $mdDialog;\n\n    this._attachedEvents = [];\n    this.VIEWS = VIEW_STATES;\n    this.params = angular.copy(mdcDefaultParams());\n    this.meridien = 'AM';\n    this.params = angular.extend(this.params, this.options);\n\n    this.init();\n  };\n\n  PluginController.$inject = ['$scope', '$mdDialog', 'mdcDefaultParams'];\n  PluginController.prototype = {\n    init: function () {\n      this.timeMode = this.params.time && !this.params.date;\n      this.dateMode = this.params.date;\n      this.initDates();\n      this.start();\n    },\n    currentNearestMinute: function () {\n      var nearestMin = this.params.minuteSteps;\n      if (nearestMin < 1 || nearestMin > 59) nearestMin = 1;\n\n      var date = this.currentDate || moment();\n      var minutes = (nearestMin * Math.round(date.minute() / nearestMin));\n      if (minutes >= 60) minutes = 60 - nearestMin;\n\n      var seconds;\n      if (this.params.seconds) {\n        seconds = date.second();\n        if (seconds >= 60) seconds = 60 - 1;\n      } else seconds = 0;\n\n      return moment(date).minutes(minutes).seconds(seconds).millisecond(0);\n    },\n    initDates: function () {\n      var that = this;\n      var _dateParam = function (input, fallback) {\n        var ret = null;\n        if (angular.isDefined(input) && input !== null && input !== '') {\n          if (angular.isString(input)) {\n            if (typeof(that.params.format) !== 'undefined' && that.params.format !== null) {\n              ret = moment(input, that.params.format).locale(that.params.lang);\n            }\n            else {\n              ret = moment(input).locale(that.params.lang);\n            }\n          } else if (typeof input === 'number') {\n            ret = moment(input).locale(that.params.lang);\n          } else {\n            if (angular.isDate(input)) {\n              var x = input.getTime();\n              ret = moment(x, \"x\").locale(that.params.lang);\n            } else if (moment.isMoment(input)) {\n              if (input.isValid()) ret = input;\n              else ret = fallback;\n            }\n          }\n        } else {\n          ret = fallback;\n        }\n        return ret;\n      };\n\n      this.currentDate = _dateParam(this.params.currentDate, moment());\n      this.currentDate = this.currentNearestMinute();\n      this.minDate = _dateParam(this.params.minDate);\n      this.maxDate = _dateParam(this.params.maxDate);\n      this.disableDates = this.params.disableDates.map(function (x) {\n        return moment(x).format('MMMM Do YYYY');\n      });\n      this.selectDate(this.currentDate);\n      this.weekDays = this.params.weekDays;\n    },\n    initDate: function () {\n      this.currentView = VIEW_STATES.DATE;\n    },\n    initHours: function () {\n      this.currentView = VIEW_STATES.HOUR;\n    },\n    initMinutes: function () {\n      this.currentView = VIEW_STATES.MINUTE;\n    },\n    initSeconds: function () {\n      this.currentView = VIEW_STATES.SECOND;\n    },\n    isAfterMinDate: function (date, checkHour, checkMinute) {\n      var _return = true;\n\n      if (typeof(this.minDate) !== 'undefined' && this.minDate !== null) {\n        var _minDate = moment(this.minDate);\n        var _date = moment(date);\n\n        if (!checkHour && !checkMinute) {\n          _minDate.hour(0);\n          _minDate.minute(0);\n\n          _date.hour(0);\n          _date.minute(0);\n        }\n\n        _minDate.second(0);\n        _date.second(0);\n        _minDate.millisecond(0);\n        _date.millisecond(0);\n\n        if (!checkMinute) {\n          _date.minute(0);\n          _minDate.minute(0);\n\n          _return = (parseInt(_date.format(\"X\")) >= parseInt(_minDate.format(\"X\")));\n        }\n        else {\n          _return = (parseInt(_date.format(\"X\")) >= parseInt(_minDate.format(\"X\")));\n        }\n      }\n\n      return _return;\n    },\n    isBeforeMaxDate: function (date, checkTime, checkMinute) {\n      var _return = true;\n\n      if (typeof(this.maxDate) !== 'undefined' && this.maxDate !== null) {\n        var _maxDate = moment(this.maxDate);\n        var _date = moment(date);\n\n        if (!checkTime && !checkMinute) {\n          _maxDate.hour(0);\n          _maxDate.minute(0);\n\n          _date.hour(0);\n          _date.minute(0);\n        }\n\n        _maxDate.second(0);\n        _date.second(0);\n        _maxDate.millisecond(0);\n        _date.millisecond(0);\n\n        if (!checkMinute) {\n          _date.minute(0);\n          _maxDate.minute(0);\n\n          _return = (parseInt(_date.format(\"X\")) <= parseInt(_maxDate.format(\"X\")));\n        }\n        else {\n          _return = (parseInt(_date.format(\"X\")) <= parseInt(_maxDate.format(\"X\")));\n        }\n      }\n\n      return _return;\n    },\n    isInDisableDates: function (date) {\n      var dut = date.format('MMMM Do YYYY');\n      if (this.disableDates.indexOf(dut) > -1) {\n        return false;\n      }\n      return true;\n    },\n    isWeekDay: function(date) {\n      if (this.weekDays) {\n        if (date.isoWeekday() <= 5) {\n          return true;\n        }\n        return false;\n      }\n      return true;\n    },\n    selectDate: function (date) {\n      if (date) {\n        this.currentDate = moment(date);\n        if (!this.isAfterMinDate(this.currentDate)) {\n          this.currentDate = moment(this.minDate);\n        }\n\n        if (!this.isBeforeMaxDate(this.currentDate)) {\n          this.currentDate = moment(this.maxDate);\n        }\n        this.currentDate.locale(this.params.lang);\n        this.calendarStart = moment(this.currentDate);\n        this.meridien = this.currentDate.hour() >= 12 ? 'PM' : 'AM';\n      }\n    },\n    isPM: function () {\n      return this.meridien === 'PM';\n    },\n    incrementMonth: function (amount) {\n      if (amount === 1 && this.isNextMonthVisible()) {\n        this.selectDate(this.currentDate.add(amount, 'month'));\n      }\n\n      if (amount === -1 && this.isPreviousMonthVisible()) {\n        this.selectDate(this.currentDate.add(amount, 'month'));\n      }\n    },\n    incrementYear: function (amount) {\n      if (amount === 1 && this.isNextYearVisible()) {\n        this.selectDate(this.currentDate.add(amount, 'year'));\n      }\n\n      if (amount === -1 && this.isPreviousYearVisible()) {\n        this.selectDate(this.currentDate.add(amount, 'year'));\n      }\n    },\n    openMenu: function ($mdMenu, ev) {\n      $mdMenu.open(ev); \n    },\n    monthsAvailable: function () {\n      var monthsArr = [], \n          _date = moment(this.currentDate);\n\n      for (var m = 0; m < 12; m++) {\n        var curMonth = _date.month(m);\n        if (this.isAfterMinDate(curMonth.endOf('month')) && this.isBeforeMaxDate(curMonth.startOf('month'))) {\n          monthsArr.push(curMonth.format('MMMM'));\n        }\n      }\n      return monthsArr;\n    },\n    selectMonth: function (month) {\n      this.selectDate(this.currentDate.month(month));\n    },\n    yearsAvailable: function () {\n      var _minDate, _maxDate, len, startYear, yearsArr = [],\n      _date = this.currentDate.year();\n\n      if (typeof(this.minDate) !== 'undefined' && this.minDate !== null) {\n        _minDate = moment(this.minDate).year();\n      }\n      if (typeof(this.maxDate) !== 'undefined' && this.maxDate !== null) {\n        _maxDate = moment(this.maxDate).year();\n      }\n\n      if (_maxDate && _minDate) {\n        len = _maxDate - _minDate;\n        startYear = _minDate;\n      } else if (_minDate) { \n        len = 115;\n        startYear = _minDate;\n      } else if (_maxDate) { \n        len = 30;\n        startYear = _maxDate - len;\n      } else {\n        len = 60;\n        startYear = _date - len/2;\n      }\n     \n      for (var i=0; i < len; i++) {\n        yearsArr.push(startYear+i);\n      }\n      return yearsArr;\n    },\n    selectYear: function (year) {\n      this.selectDate(this.currentDate.year(year));\n    },\n    isPreviousMonthVisible: function () {\n      return this.calendarStart && this.isAfterMinDate(moment(this.calendarStart).startOf('month'), false, false);\n    },\n    isNextMonthVisible: function () {\n      return this.calendarStart && this.isBeforeMaxDate(moment(this.calendarStart).endOf('month'), false, false);\n    },\n    isPreviousYearVisible: function () {\n      return this.calendarStart && this.isAfterMinDate(moment(this.calendarStart).startOf('year'), false, false);\n    },\n    isNextYearVisible: function () {\n      return this.calendarStart && this.isBeforeMaxDate(moment(this.calendarStart).endOf('year'), false, false);\n    },\n    isHourAvailable: function (hour) {\n      var _date = moment(this.currentDate);\n      if (this.params.shortTime) {\n        _date.hour(this.convertHours(hour)).minute(0).second(0);\n      } else {\n        _date.hour(hour).minute(0).second(0);\n      }\n      return this.isAfterMinDate(_date, true, false) && this.isBeforeMaxDate(_date, true, false);\n    },\n    isMinuteAvailable: function (minute) {\n      var _date = moment(this.currentDate);\n      _date.minute(minute).second(0);\n\n      var nearestMin = this.params.minuteSteps;\n      if (nearestMin > 1 && 5 % nearestMin !== 0){\n        var _curmin = _date.minute();\n        var minutes = (nearestMin * Math.round(_curmin / nearestMin));\n        if (minutes >= 60) minutes = 60 - nearestMin;\n        if (minutes !== _curmin) return false;\n      }\n\n      return this.isAfterMinDate(_date, true, true) && this.isBeforeMaxDate(_date, true, true);\n    },\n    isSecondAvailable: function (second) {\n      return true;\n    },\n    start: function () {\n      this.currentView = VIEW_STATES.DATE;\n      if (this.params.date) {\n        this.initDate();\n      } else {\n        if (this.params.time) {\n          this.initHours();\n        }\n      }\n    },\n    today: function () {\n      var nearestMin = this.params.minuteSteps;\n      var date = moment();\n      var minutes = (nearestMin * Math.round(date.minute() / nearestMin));\n      if (minutes >= 60) minutes = 60 - nearestMin;\n\n      var seconds;\n      if (this.params.seconds) {\n        seconds = date.second();\n        if (seconds >= 60) seconds = 60 - 1;\n      } else seconds = 0;\n\n      this.selectDate(moment(date).minutes(minutes).seconds(seconds).millisecond(0));\n    },\n    ok: function () {\n      switch (this.currentView) {\n        case VIEW_STATES.DATE:\n          if (this.params.time === true) {\n            this.initHours();\n          } else {\n            this.hide(true);\n          }\n          break;\n        case VIEW_STATES.HOUR:\n          if (this.params.minutes === true) {\n            this.initMinutes();\n          } else {\n            this.hide(true);\n          }\n          break;\n        case VIEW_STATES.MINUTE:\n          if (this.params.seconds === true) {\n            this.initSeconds();\n          } else {\n            this.hide(true);\n          }\n          break;\n        case VIEW_STATES.SECOND:\n          this.hide(true);\n          break;\n      }\n    },\n    cancel: function () {\n      if (this.params.time) {\n        switch (this.currentView) {\n          case VIEW_STATES.DATE:\n            this.hide();\n            break;\n          case VIEW_STATES.HOUR:\n            if (this.params.date) {\n              this.initDate();\n            }\n            else {\n              this.hide();\n            }\n            break;\n          case VIEW_STATES.MINUTE:\n            this.initHours();\n            break;\n          case VIEW_STATES.SECOND:\n            this.initMinutes();\n            break;  \n        }\n      }\n      else {\n        this.hide();\n      }\n    },\n    selectMonthBefore: function () {\n      this.calendarStart.subtract(1, 'months');\n    },\n    selectMonthAfter: function () {\n      this.calendarStart.add(1, 'months');\n    },\n    selectYearBefore: function () {\n      this.calendarStart.subtract(1, 'years');\n    },\n    selectYearAfter: function () {\n      this.calendarStart.add(1, 'years');\n    },\n    selectAM: function () {\n      if (this.isHourAvailable(0) || this.isHourAvailable(12)) {\n        if (this.currentDate.hour() >= 12) {\n          this.selectDate(this.currentDate.subtract(12, 'hours'));\n        }\n        if (!this.isHourAvailable(this.currentDate.hour())) {\n          this.selectDate(this.currentDate.hour(this.minDate.hour()));\n        }\n        if (!this.isMinuteAvailable(this.currentDate.minute())) {\n          this.selectDate(this.currentDate.minute(this.minDate.minute()));\n        }\n      }\n    },\n    selectPM: function () {\n      if (this.isHourAvailable(13) || this.isHourAvailable(24)) {\n        if (this.currentDate.hour() < 12) {\n          this.selectDate(this.currentDate.add(12, 'hours'));\n        }\n        if (!this.isHourAvailable(this.currentDate.hour())) {\n          this.selectDate(this.currentDate.hour(this.maxDate.hour()));\n        }\n        if (!this.isMinuteAvailable(this.currentDate.minute())) {\n          this.selectDate(this.currentDate.minute(this.maxDate.minute()));\n        }\n      }\n    },\n    convertHours: function (h) {\n      var _return = h;\n      if (h < 12 && this.isPM()) _return += 12;\n\n      return _return;\n    },\n    hide: function (okBtn) {\n      if (okBtn) this._dialog.hide(this.currentDate);\n      else this._dialog.cancel();\n    }\n  };\n\n  angular.module(moduleName)\n    .directive('mdcDatetimePickerCalendar', [\n      function () {\n\n        var YEAR_MIN = 1920,\n          YEAR_MAX = new Date().getFullYear() + 30,\n          MONTHS_IN_ALL = (YEAR_MAX - YEAR_MIN + 1) * 12,\n          ITEM_HEIGHT = 240,\n          MONTHS = [];\n        for (var i = 0; i < MONTHS_IN_ALL; i++) {\n          MONTHS.push(i);\n        }\n\n        var currentMonthIndex = function (date, low) {\n          low = low ? low : 0;\n          var year = date.year();\n          var month = date.month();\n          return (((year - YEAR_MIN) * 12) + month - 1) - low;\n        };\n\n        return {\n          restrict: 'E',\n          scope: {\n            picker: '=',\n            date: '='\n          },\n          bindToController: true,\n          controllerAs: 'cal',\n          controller: ['$scope', function ($scope) {\n            var calendar = this, picker;\n\n            this.$onInit = function () {\n              picker = this.picker;\n\n              var days = [];\n              for (var i = picker.params.weekStart; days.length < 7; i++) {\n                if (i > 6) i = 0;\n                days.push(i.toString());\n              }\n              calendar.week = days;\n\n              if (!picker.maxDate && !picker.minDate) {\n                calendar.months = MONTHS;\n              } else {\n                var low = picker.minDate ? currentMonthIndex(picker.minDate) : 0;\n                var high = picker.maxDate ? (currentMonthIndex(picker.maxDate) + 1) : MONTHS_IN_ALL;\n                calendar.months = MONTHS.slice(low, high);\n              }\n\n              calendar.topIndex = currentMonthIndex(picker.currentDate) - calendar.months[0];\n            };\n\n            if (angular.version.major === 1 && angular.version.minor < 5) this.$onInit();\n          \n            calendar.getItemAtIndex = function (index) {\n              var month = ((index + 1) % 12) || 12;\n              var year = YEAR_MIN + Math.floor(index / 12);\n              var monthObj = moment(picker.currentDate).year(year).month(month);\n              return generateMonthCalendar(monthObj);\n            };\n\n            $scope.$watch(function () {\n              return picker.currentDate ? picker.currentDate.format('YYYY-MM') : '';\n            }, function (val2, val1) {\n              if (val2 != val1) {\n                var nDate = moment(val2, 'YYYY-MM');\n                var low = picker.minDate ? currentMonthIndex(picker.minDate) : 0;\n                var index = currentMonthIndex(nDate, low);\n                if (calendar.topIndex != index) {\n                  calendar.topIndex = index;\n                }\n              }\n            });\n\n            var generateMonthCalendar = function (date) {\n              var month = {};\n              if (date !== null) {\n                month.name = date.format('MMMM YYYY');\n                var startOfMonth = moment(date).locale(picker.params.lang).startOf('month')\n                    .hour(date.hour())\n                    .minute(date.minute());\n                var iNumDay = startOfMonth.format('d');\n                month.days = [];\n                for (var i = startOfMonth.date(); i <= startOfMonth.daysInMonth(); i++) {\n                  if (i === startOfMonth.date()) {\n                    var iWeek = calendar.week.indexOf(iNumDay.toString());\n                    if (iWeek > 0) {\n                      for (var x = 0; x < iWeek; x++) {\n                        month.days.push(0);\n                      }\n                    }\n                  }\n                  month.days.push(moment(startOfMonth).locale(picker.params.lang).date(i));\n                }\n\n                var daysInAWeek = 7, daysTmp = [], slices = Math.ceil(month.days.length / daysInAWeek);\n                for (var j = 0; j < slices; j++) {\n                  daysTmp.push(month.days.slice(j * daysInAWeek, (j + 1) * daysInAWeek));\n                }\n                month.days = daysTmp;\n                return month;\n              }\n\n            };\n\n            calendar.toDay = function (i) {\n              return moment(parseInt(i), \"d\")\n                .locale(picker.params.lang)\n                .format(\"dd\")\n                .substring(0, 1);\n            };\n\n            calendar.isInRange = function (date) {\n              return picker.isAfterMinDate(moment(date), false, false) &&\n                picker.isBeforeMaxDate(moment(date), false, false) &&\n                picker.isWeekDay(moment(date)) &&\n                picker.isInDisableDates(moment(date));\n            };\n\n            calendar.selectDate = function (date) {\n              if (date) {\n                if (calendar.isSelectedDay(date)) {\n                  return picker.ok();\n                }\n                picker.selectDate(moment(date).hour(calendar.date.hour()).minute(calendar.date.minute()));\n                if (picker.params.autoOk) {\n                  picker.ok();\n                }\n              }\n            };\n\n            calendar.isSelectedDay = function (m) {\n              return m && calendar.date.date() === m.date() && calendar.date.month() === m.month() && calendar.date.year() === m.year();\n            };\n\n            calendar.isDateOfTheDay = function (m) {\n              var today = calendar.picker.options.showTodaysDate;\n              if (!today) {\n                return false;\n              }\n\n              return m && today.date() === m.date() && today.month() === m.month() && today.year() === m.year();\n            };\n          }],\n          template: \n          '<md-virtual-repeat-container md-top-index=\"cal.topIndex\" class=\"months\">' +\n          '<div md-virtual-repeat=\"idx in ::cal.months\" md-auto-shrink md-item-size=\"' + ITEM_HEIGHT + '\">' +\n          '  <div mdc-datetime-picker-calendar-month idx=\"idx\"></div>' +\n          '</div>' +\n          '</md-virtual-repeat-container>'\n        };\n      }])\n    .directive('mdcDatetimePickerCalendarMonth', ['$compile',\n      function ($compile) {\n        var buildCalendarContent = function (element, scope) {\n          var tbody = angular.element(element[0].querySelector('tbody'));\n          var calendar = scope.cal, month = scope.month;\n\n          var tbodyHtml = [];\n\n          month.days.forEach(function (weekDays, i) {\n            tbodyHtml.push('<tr>');\n            weekDays.forEach(function (weekDay, j) {\n              tbodyHtml.push('<td>');\n              if (weekDay) {\n                if (calendar.isInRange(weekDay)) {\n                  //build a\n                  var scopeRef = 'month[\\'days\\'][' + i + '][' + j + ']';\n\n                  tbodyHtml.push('<a id=\"date-' + weekDay.format('YYYY-MM-DD') + '\" href=\"#\" mdc-dtp-noclick class=\"dtp-select-day\" ng-class=\"{selected: cal.isSelectedDay(' + scopeRef + '), hilite: cal.isDateOfTheDay(' + scopeRef + ')}\" ng-click=\"cal.selectDate(' + scopeRef + ')\">');\n                  tbodyHtml.push(weekDay.format('D'));\n                  tbodyHtml.push('</a>');\n                } else {\n                  tbodyHtml.push('<span class=\"dtp-select-day\">');\n                  tbodyHtml.push(weekDay.format('D'));\n                  tbodyHtml.push('</span>');\n                }\n              }\n              tbodyHtml.push('</td>');\n            });\n            tbodyHtml.push('</tr>');\n          });\n\n          tbody.html(tbodyHtml.join(''));\n          $compile(tbody)(scope);\n        };\n\n        return {\n          scope: {\n            idx: '='\n          },\n          require: '^mdcDatetimePickerCalendar',\n          restrict: 'AE',\n          template: \n            '<div class=\"dtp-picker-month\">{{month.name}}</div>' +\n            '<table class=\"table dtp-picker-days\">' +\n            '  <thead>' +\n            '    <tr>' +\n            '      <th ng-repeat=\"day in cal.week track by $index\">{{cal.toDay(day)}}</th>' +\n            '    </tr>' +\n            '  </thead>' +\n            '  <tbody>' +\n            '  </tbody>' +\n            '</table>',\n          link: function (scope, element, attrs, calendar) {\n            scope.cal = calendar;\n            scope.month = calendar.getItemAtIndex(parseInt(scope.idx));\n            buildCalendarContent(element, scope);\n            scope.$watch(function () {\n              return scope.idx;\n            }, function (idx, oldIdx) {\n              if (idx != oldIdx) {\n                scope.month = calendar.getItemAtIndex(parseInt(scope.idx));\n                buildCalendarContent(element, scope);\n              }\n            });\n          }\n        };\n      }\n    ])\n  ;\n\n  angular.module(moduleName)\n    .directive('mdcDtpNoclick', function () {\n      return {\n        link: function (scope, el) {\n          el.on('click', function (e) {\n            e.preventDefault();\n          });\n        }\n      };\n    });\n  angular.module(moduleName)\n    .directive('mdcDatetimePickerClock', ['$timeout',\n      function ($timeout) {\n\n        var template = \n          '<div id=\"timePicker\" class=\"dtp-picker-clock\"><span ng-if=\"!points||points.length < 1\">&nbsp;</span>' +\n          '<div ng-repeat=\"point in points\" class=\"dtp-picker-time noselect\" ng-style=\"point.style\">' +\n          '   <a href=\"#\" id=\"time-{{mode}}-{{point.display}}\" mdc-dtp-noclick ng-class=\"{selected:point.value===currentValue}\" class=\"dtp-select-hour\" ng-click=\"setTime(point.value)\" ng-if=\"pointAvailable(point)\">{{point.display}}</a>' +\n          '   <a href=\"#\" mdc-dtp-noclick class=\"disabled dtp-select-hour\" ng-if=\"!pointAvailable(point)\">{{point.display}}</a>' +\n          '</div>' +\n          '<div ng-if=\"points24.length\" ng-repeat=\"point24 in points24\" class=\"dtp-picker-time noselect\" ng-style=\"point24.style\">' +\n          '   <a href=\"#\" id=\"time-24hours-{{point24.display}}\" mdc-dtp-noclick ng-class=\"{selected:point24.value===currentValue}\" class=\"dtp-select-hour\" ng-click=\"setTime(point24.value)\" ng-if=\"pointAvailable(point24)\">{{point24.display}}</a>' +\n          '   <a href=\"#\" mdc-dtp-noclick class=\"disabled dtp-select-hour\" ng-if=\"!pointAvailable(point24)\">{{point24.display}}</a>' +\n          '</div>' +\n          '<div class=\"dtp-hand dtp-hour-hand\"></div>' +\n          '<div class=\"dtp-hand dtp-minute-hand\"></div>' +\n          '<div ng-if=\"picker.params.seconds\" class=\"dtp-hand dtp-second-hand\"></div>' +\n          '<div class=\"dtp-clock-center\"></div>' +\n          '</div>';\n\n        return {\n          restrict: 'E',\n          template: template,\n          link: function (scope, element, attrs) {\n            var minuteMode = attrs.mode === 'minutes';\n            var secondMode = attrs.mode === 'seconds';\n            var picker = scope.picker;\n            //banking on the fact that there will only be one at a time\n            var componentRoot = document.querySelector('md-dialog.dtp');\n\n            var setTimeDegRay = function(deg, ray) {\n              var val = 0;\n              deg = deg >= 360 ? 0 : deg;\n              if (deg !== 0) {\n                var divider = minuteMode||secondMode ? 60 : 12;\n                val = Math.round(divider / 360 * deg);\n              }\n\n              if (minuteMode) {\n                var nearestMin = picker.params.minuteSteps;\n                if (nearestMin < 1 || nearestMin > 59) nearestMin = 1;\n\n                var minutes = (nearestMin * Math.round(val / nearestMin));\n                if (minutes >= 60) minutes = 60 - nearestMin;\n\n                if (!scope.pointAvailable({value: val})) return;\n                picker.currentDate.minute(minutes);\n              } else if (!secondMode){\n                if (val === 12) val = 0;\n                if (!picker.params.shortTime) picker.meridien = ray > 84 ? 'AM' : 'PM';\n                if (picker.isPM()) val += 12;\n                if (!scope.pointAvailable({value: val})) return;\n                picker.currentDate.hour(val);\n              } else {\n                if (val >= 60) val = 0;\n                if (!scope.pointAvailable({value: val})) return;\n                picker.currentDate.second(val);\n              }\n              \n            };\n\n            var isTouchSupported = ('ontouchstart' in window) ? true : false,\n            EVENTS = {\n              POINTER_DOWN : isTouchSupported ? 'touchstart' : 'mousedown',\n              POINTER_UP   : isTouchSupported ? 'touchend'   : 'mouseup',\n              POINTER_MOVE : isTouchSupported ? 'touchmove'  : 'mousemove'\n            };\n\n            var onMoveEvent = function(e) {\n              e.preventDefault();\n\n              var closestTarget = e.currentTarget.closest('div'),\n              clientRect = closestTarget.getClientRects()[0];\n\n              if (isTouchSupported) e = e.changedTouches[0];\n              \n              var x = ((closestTarget.offsetWidth / 2) - (e.pageX - clientRect.left)),\n                  y = ((e.pageY - clientRect.top) - (closestTarget.offsetHeight / 2));\n              \n              var ray = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n              var deg = Math.round((Math.atan2(x, y) * (180 / Math.PI)));\n\n              $timeout(function() {\n                setTimeDegRay(deg+180, ray);\n              });\n            };\n\n            element.on(EVENTS.POINTER_DOWN, function() {\n               element.on(EVENTS.POINTER_MOVE, onMoveEvent);\n            });\n\n            element.on(EVENTS.POINTER_UP, function() {\n                element.off(EVENTS.POINTER_MOVE);\n            });\n\n            scope.$on(\"$destroy\", function() {\n                element.off(EVENTS.POINTER_MOVE, onMoveEvent); \n            });\n\n            var exec = function () {\n              var clock = angular.element(element[0].querySelector('.dtp-picker-clock')),\n                  pickerEl = angular.element(componentRoot.querySelector('.dtp-picker'));\n\n              var w = componentRoot.querySelector('.dtp-content').offsetWidth;\n              var pL = parseInt(css(pickerEl, 'paddingLeft').replace('px', '')) || 0;\n              var pR = parseInt(css(pickerEl, 'paddingRight').replace('px', '')) || 0;\n              var pT = parseInt(css(pickerEl, 'paddingTop').replace('px', '')) || 0;\n              var mL = parseInt(css(clock, 'marginLeft').replace('px', '')) || 0;\n              var mR = parseInt(css(clock, 'marginRight').replace('px', '')) || 0;\n              var mT = parseInt(css(clock, 'marginTop').replace('px', '')) || 0;\n\n              //set width\n              var clockWidth = (w - (mL + mR + pL + pR));\n              clock.css('width', (clockWidth) + 'px');\n\n              var r = (clockWidth / 2);\n              var j = r / 1.2; // radius for low number\n   \n              var points = [];\n\n              for (var h = 0; h < 12; ++h) {\n                var x = j * Math.sin(Math.PI * 2 * (h / 12));\n                var y = j * Math.cos(Math.PI * 2 * (h / 12));\n                var left = (r + x + pL / 2) - (pL + mL);\n                var top = (r - y - mT / 2) - (pT + mT);\n\n                var hour = {\n                  left: left,\n                  top: top,\n                  value: (minuteMode||secondMode ? (h * 5) : h), //5 for minute 60/12\n                  style: {'margin-left': left + 'px', 'margin-top': top + 'px'}\n                };\n\n                if (minuteMode || secondMode) {\n                  hour.display = hour.value < 10 ? ('0' + hour.value) : hour.value;\n                } else {\n                  if (picker.params.shortTime) {\n                    hour.display = h === 0 ? 12 : h;\n                  } else {\n                    hour.display = h;\n                  }\n                }\n\n                points.push(hour);\n              }\n              scope.points = points;\n\n              if (!picker.params.shortTime && !minuteMode && !secondMode) {\n                var points24 = [];\n\n                var j24 = r / 1.8; // radius for high number\n                for (var h24 = 12; h24 < 24; ++h24) {\n                  var x24 = j24 * Math.sin(Math.PI * 2 * (h24 / 12));\n                  var y24 = j24 * Math.cos(Math.PI * 2 * (h24 / 12));\n                  var left24 = (r + x24 + pL / 2) - (pL + mL);\n                  var top24 = (r - y24 - mT / 2) - (pT + mT);\n\n                  points24.push({\n                    left: left24,\n                    top: top24,\n                    value: h24,\n                    display: h24,\n                    style: {'margin-left': left24 + 'px', 'margin-top': top24 + 'px'}\n                  });\n                }\n                scope.points24 = points24;\n              }\n\n              scope.mode = attrs.mode;\n              setCurrentValue();\n              clock.css('height', clockWidth + 'px');\n\n              var clockCenter = element[0].querySelector('.dtp-clock-center');\n              var centerWidth = (clockCenter.offsetWidth / 2) || 7.5;\n              var centerHeight = (clockCenter.offsetHeight / 2) || 7.5;\n              var _hL = r / (picker.params.shortTime ? 1.8 : 2.3);\n              var _mL = r / 1.4;\n              var _sL = r;\n\n              angular.element(element[0].querySelector('.dtp-hour-hand')).css({\n                left: r + (mL * 1.5) + 'px',\n                height: _hL + 'px',\n                marginTop: (r - _hL - pL) + 'px'\n              }).addClass(!minuteMode && !secondMode ? 'on' : '');\n\n              angular.element(element[0].querySelector('.dtp-minute-hand')).css({\n                left: r + (mL * 1.5) + 'px',\n                height: _mL + 'px',\n                marginTop: r - _mL - pL + 'px'\n              }).addClass(minuteMode ? 'on' : '');\n\n              angular.element(element[0].querySelector('.dtp-second-hand')).css({\n                left: r + (mL * 1.5) + 'px',\n                height: _sL + 'px',\n                marginTop: r - _sL - pL + 'px'\n              }).addClass(secondMode ? 'on' : '');\n\n              angular.element(clockCenter).css({\n                left: r + pL + mL - centerWidth + 'px',\n                marginTop: (r - (mL / 2)) - centerHeight + 'px'\n              });\n              animateHands();\n            };\n\n            var animateHands = function () {\n              var _date = picker.currentNearestMinute();\n              var h = _date.hour();\n              var m = _date.minute();\n              var s = _date.second();\n\n              rotateElement(angular.element(element[0].querySelector('.dtp-hour-hand')), 30 * h);\n              rotateElement(angular.element(element[0].querySelector('.dtp-minute-hand')), 6 * m);\n              rotateElement(angular.element(element[0].querySelector('.dtp-second-hand')), 6 * s);\n            };\n\n            var rotateElement = function (el, deg) {\n              angular.element(el).css({\n                WebkitTransform: 'rotate(' + deg + 'deg)',\n                '-moz-transform': 'rotate(' + deg + 'deg)',\n                '-ms-transform': 'rotate(' + deg + 'deg)',\n                'transform': 'rotate(' + deg + 'deg)'\n              });\n            };\n\n\n            var setCurrentValue = function () {\n              var date = picker.currentNearestMinute();\n              var nbH = picker.params.shortTime ? 12 : 24;\n              if (minuteMode) scope.currentValue = date.minute();\n              else if (secondMode) scope.currentValue = date.second();\n              else scope.currentValue = date.hour() % nbH;\n            };\n\n            scope.$watch(function () {\n              var tmp = picker.currentNearestMinute();\n              return tmp ? tmp.format('HH:mm:ss') : '';\n            }, function () {\n              setCurrentValue();\n              animateHands();\n            });\n\n            scope.setTime = function (val) {\n              if (!minuteMode && !secondMode) {\n                if (val === scope.currentValue && !picker.params.autoOk) picker.ok(); // double click\n\n                if (picker.params.shortTime) {\n                  picker.currentDate.hour(picker.isPM() ? (val + 12) : val);\n                } else {\n                  picker.currentDate.hour(val);\n                  if (val >= 12) picker.meridien = 'PM';\n                  else picker.meridien = 'AM';\n                }\n\n                if (picker.params.autoOk) picker.ok(); // single click\n              } else if (!secondMode) {\n                if (val === scope.currentValue && !picker.params.seconds) picker.ok(); // double click\n    \n                picker.currentDate.minute(val);\n                if (!picker.params.seconds) {\n                  picker.currentDate.second(0);\n                } else if (picker.params.autoOk) picker.ok(); // single click\n              } else {\n                if (val === scope.currentValue) picker.ok(); // double click\n                picker.currentDate.second(val);\n              }\n            };\n\n            scope.pointAvailable = function (point) {\n              if (minuteMode) return picker.isMinuteAvailable(point.value);\n              else if (secondMode) return picker.isSecondAvailable(point.value);\n              else return picker.isHourAvailable(point.value);\n            };\n\n            var unWatcher = scope.$watch(function () {\n              return element[0].querySelectorAll('div').length;\n            }, function () {\n              exec();\n              unWatcher();\n            });\n          }\n        };\n      }]);\n    return moduleName;\n  }\n\n  var isElectron = window && window.process && window.process.type;\n  if (typeof define === 'function' && define.amd) {\n    define(['moment'], ngMaterialDatePicker);\n  } else if (typeof module !== 'undefined' && module && module.exports && (typeof require === 'function') && !isElectron) {\n    module.exports = ngMaterialDatePicker(require('moment'));\n  } else {\n    ngMaterialDatePicker((typeof global !== 'undefined' ? global : window).moment);\n  }\n})();\n"]}