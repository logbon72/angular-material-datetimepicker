{"version":3,"sources":["angular-material-datetimepicker.js"],"names":["moduleName","VIEW_STATES","DATE","HOUR","MINUTE","css","el","name","window","jQuery","angular","element","getComputedStyle","template","module","provider","this","locale","$get","setDefaultLocale","localeString","factory","mdcDatetimePickerDefaultLocale","default_params","date","time","format","minDate","maxDate","currentDate","lang","weekStart","shortTime","cancelText","okText","amText","pmText","todayText","directive","$mdDialog","$timeout","restrict","require","scope","ngChange","showTodaysDate","link","attrs","ngModel","isOn","dateOfTheDay","undefined","moment","isString","$formatters","push","value","m","isValid","attr","on","e","preventDefault","blur","options","i","hasOwnProperty","isUndefined","locals","show","controller","PluginController","controllerAs","openFrom","parent","document","body","bindToController","disableParentScroll","hasBackDrop","skipHide","then","v","_d","isSame","$q","mdcDefaultParams","accepted_options","service","deferred","defer","params","indexOf","clickOutsideToClose","resolve","reject","promise","$scope","currentView","_dialog","_attachedEvents","VIEWS","meridien","extend","init","$inject","prototype","timeMode","dateMode","initDates","start","currentNearest5Minute","minutes","Math","round","minute","that","_dateParam","input","fallback","ret","isDefined","isDate","x","getTime","_isAMomentObject","selectDate","initDate","d","initHours","initMinutes","isAfterMinDate","checkHour","checkMinute","_return","_minDate","_date","hour","second","millisecond","parseInt","isBeforeMaxDate","checkTime","_maxDate","calendarStart","setName","text","possible","charAt","floor","random","length","isPM","incrementYear","amount","isNextYearVisible","add","isPreviousYearVisible","isPreviousMonthVisible","startOf","isNextMonthVisible","endOf","isHourAvailable","convertHours","isMinuteAvailable","today","Date","now","ok","hide","cancel","selectMonthBefore","subtract","selectMonthAfter","selectYearBefore","selectYearAfter","selectAM","selectPM","h","okBtn","YEAR_MIN","YEAR_MAX","getFullYear","MONTHS_IN_ALL","ITEM_HEIGHT","MONTHS","currentMonthIndex","year","month","picker","$onInit","calendar","days","toString","week","low","high","months","slice","getItemAtIndex","index","monthObj","generateMonthCalendar","topIndex","$watch","val2","val1","nDate","startOfMonth","iNumDay","daysInMonth","iWeek","daysInAWeek","daysTmp","slices","ceil","j","toDay","substring","isInRange","isSelectedDay","isDateOfTheDay","$compile","buildCalendarContent","tbody","querySelector","cal","tbodyHtml","forEach","weekDays","weekDay","scopeRef","html","join","idx","oldIdx","minuteMode","mode","componentRoot","exec","clock","pickerEl","w","offsetWidth","pl","replace","pr","ml","mr","clockWidth","pL","pT","mL","mT","r","points","sin","PI","y","cos","left","top","style","margin-left","margin-top","display","setCurrentValue","clockCenter","centerWidth","centerHeight","offsetHeight","_hL","_mL","height","marginTop","addClass","animateHands","rotateElement","mdg","deg","WebkitTransform","-moz-transform","-ms-transform","transform","currentValue","tmp","newVal","setDisplayPoints","copy","setTime","val","pointAvailable","point","unWatcher","querySelectorAll"],"mappings":"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","file":"angular-material-datetimepicker.min.js","sourcesContent":["'use strict';\r\n\r\nvar moduleName = \"ngMaterialDatePicker\";\r\n\r\nvar VIEW_STATES = {\r\n  DATE: 0,\r\n  HOUR: 1,\r\n  MINUTE: 2\r\n};\r\n\r\nvar css = function (el, name) {\r\n  if ('jQuery' in window) {\r\n    return jQuery(el).css(name);\r\n  } else {\r\n    el = angular.element(el);\r\n    return ('getComputedStyle' in window) ? window.getComputedStyle(el[0])[name] : el.css(name);\r\n  }\r\n};\r\n\r\nvar template = '<md-dialog class=\"dtp\" layout=\"column\" style=\"width: 300px;\">'\r\n  + '    <md-dialog-content class=\"dtp-content\">'\r\n  + '        <div class=\"dtp-date-view\">'\r\n  + '            <header class=\"dtp-header\">'\r\n  + '                <div class=\"dtp-actual-day\" ng-show=\"picker.dateMode\">{{picker.currentDate.format(\"dddd\")}}</div>'\r\n  + '                <div class=\"dtp-actual-day\" ng-show=\"picker.timeMode\">{{picker.params.shortTime ? picker.currentDate.format(\"A\") : \" \"}}</div>'\r\n  + '                <div class=\"dtp-close text-right\">'\r\n  + '                    <a href=\"#\" mdc-dtp-noclick ng-click=\"picker.hide()\">&times;</a>'\r\n  + '                </div>'\r\n  + '            </header>'\r\n  + '            <div class=\"dtp-date\" ng-show=\"picker.params.date\">'\r\n  + '                <div layout=\"column\">'\r\n  + '                    <div class=\"dtp-actual-month\">{{picker.currentDate.format(\"MMM\") | uppercase}}</div>'\r\n  + '                </div>'\r\n  + '                <div class=\"dtp-actual-num\">{{picker.currentDate.format(\"DD\")}}</div>'\r\n  + '                <div layout=\"row\">'\r\n  + ' <div ng-click=\"picker.incrementYear(-1)\" class=\"dtp-year-btn dtp-year-btn-prev\" flex=\"30\"><span ng-if=\"picker.isPreviousYearVisible()\" >&#x25B2;</span></div>'\r\n  + '                    <div class=\"dtp-actual-year\" flex>{{picker.currentDate.format(\"YYYY\")}}</div>'\r\n  + ' <div ng-click=\"picker.incrementYear(1)\" class=\"dtp-year-btn dtp-year-btn-next\" flex=\"30\"><span ng-if=\"picker.isNextYearVisible()\" >&#x25BC;</span></div>'\r\n  + '                </div>'\r\n  + '            </div>'//start time\r\n  + '            <div class=\"dtp-time\" ng-show=\"picker.params.time && !picker.params.date\">'\r\n  + '                <div class=\"dtp-actual-maxtime\">{{picker.currentNearest5Minute().format(picker.params.shortTime ? \"hh:mm\" : \"HH:mm\")}}</div>'\r\n  + '            </div>'\r\n  + '            <div class=\"dtp-picker\">'\r\n  + '                <mdc-datetime-picker-calendar date=\"picker.currentDate\" picker=\"picker\" class=\"dtp-picker-calendar\" ng-show=\"picker.currentView === picker.VIEWS.DATE\"></mdc-datetime-picker-calendar>'\r\n  + '                <div class=\"dtp-picker-datetime\" ng-cloak ng-if=\"picker.currentView !== picker.VIEWS.DATE\">'\r\n  + '                    <div class=\"dtp-actual-meridien\">'\r\n  + '                        <div class=\"left p20\">'\r\n  + '                            <a href=\"#\" mdc-dtp-noclick class=\"dtp-meridien-am\" ng-class=\"{selected: picker.meridien == \\'AM\\'}\" ng-click=\"picker.selectAM()\">{{picker.params.amText}}</a>'\r\n  + '                        </div>'\r\n  + '                        <div ng-show=\"!picker.timeMode\" class=\"dtp-actual-time p60\">{{picker.currentNearest5Minute().format(picker.params.shortTime ? \"hh:mm\" : \"HH:mm\")}}</div>'\r\n  + '                        <div class=\"right p20\">'\r\n  + '                            <a href=\"#\" mdc-dtp-noclick class=\"dtp-meridien-pm\" ng-class=\"{selected: picker.meridien == \\'PM\\'}\" ng-click=\"picker.selectPM()\">{{picker.params.pmText}}</a>'\r\n  + '                        </div>'\r\n  + '                        <div class=\"clearfix\"></div>'\r\n  + '                    </div>'\r\n  + '                    <mdc-datetime-picker-clock mode=\"hours\" ng-if=\"picker.currentView === picker.VIEWS.HOUR\"></mdc-datetime-picker-clock>'\r\n  + '                    <mdc-datetime-picker-clock mode=\"minutes\" ng-if=\"picker.currentView === picker.VIEWS.MINUTE\"></mdc-datetime-picker-clock>'\r\n  + '                </div>'\r\n  + '            </div>'\r\n  + '        </div>'\r\n  + '    </md-dialog-content>'\r\n  + '    <md-dialog-actions class=\"dtp-buttons\">'\r\n  + '            <md-button class=\"dtp-btn-ok md-button\" ng-click=\"picker.today()\"> {{picker.params.todayText}}</md-button>'\r\n  + '            <md-button class=\"dtp-btn-cancel md-button\" ng-click=\"picker.cancel()\"> {{picker.params.cancelText}}</md-button>'\r\n  + '            <md-button class=\"dtp-btn-ok md-button\" ng-click=\"picker.ok()\"> {{picker.params.okText}}</md-button>'\r\n  + '      </md-dialog-actions>'\r\n  + '</md-dialog>';\r\n\r\nangular.module(moduleName, ['ngMaterial'])\r\n  .provider('mdcDatetimePickerDefaultLocale', function () {\r\n    this.locale = 'en';\r\n\r\n    this.$get = function () {\r\n      return this.locale;\r\n    };\r\n\r\n    this.setDefaultLocale = function (localeString) {\r\n      this.locale = localeString;\r\n    };\r\n  })\r\n  .factory('mdcDefaultParams', ['mdcDatetimePickerDefaultLocale', function (mdcDatetimePickerDefaultLocale) {\r\n    var default_params = {\r\n      date: true,\r\n      time: true,\r\n      format: 'YYYY-MM-DD',\r\n      minDate: null,\r\n      maxDate: null,\r\n      currentDate: null,\r\n      lang: mdcDatetimePickerDefaultLocale,\r\n      weekStart: 0,\r\n      shortTime: false,\r\n      cancelText: 'Cancel',\r\n      okText: 'OK',\r\n      amText: 'AM',\r\n      pmText: 'PM',\r\n      todayText: 'Today',\r\n    };\r\n    return default_params;\r\n  }])\r\n  .directive('mdcDatetimePicker', ['$mdDialog', '$timeout',\r\n    function ($mdDialog, $timeout) {\r\n\r\n      return {\r\n        restrict: 'A',\r\n        require: 'ngModel',\r\n        scope: {\r\n          currentDate: '=ngModel',\r\n          ngChange: '&',\r\n          time: '=',\r\n          date: '=',\r\n          minDate: '=',\r\n          maxDate: '=',\r\n          shortTime: '=',\r\n          weekStart: '=',\r\n          format: '@',\r\n          cancelText: '@',\r\n          okText: '@',\r\n          lang: '@',\r\n          amText: '@',\r\n          pmText: '@',\r\n          showTodaysDate: '@',\r\n          todayText: '@',\r\n        },\r\n        link: function (scope, element, attrs, ngModel) {\r\n          var isOn = false;\r\n          if (!scope.format) {\r\n            if (scope.date && scope.time) {\r\n              scope.format = 'YYYY-MM-DD HH:mm';\r\n            } else if (scope.date) {\r\n              scope.format = 'YYYY-MM-DD';\r\n            } else {\r\n              scope.format = 'HH:mm';\r\n            }\r\n          }\r\n\r\n          var dateOfTheDay = null;\r\n          if (scope.showTodaysDate !== undefined && scope.showTodaysDate !== \"false\")\r\n            dateOfTheDay = moment();\r\n\r\n          if (angular.isString(scope.currentDate) && scope.currentDate !== '') {\r\n            scope.currentDate = moment(scope.currentDate, scope.format);\r\n          }\r\n\r\n          if (ngModel) {\r\n            ngModel.$formatters.push(function (value) {\r\n              if (typeof value === 'undefined') {\r\n                return;\r\n              }\r\n              var m = moment(value);\r\n              return m.isValid() ? m.format(scope.format) : '';\r\n            });\r\n          }\r\n\r\n          element.attr('readonly', '');\r\n          //@TODO custom event to trigger input\r\n          element.on('focus', function (e) {\r\n            e.preventDefault();\r\n            element.blur();\r\n            if (isOn) {\r\n              return;\r\n            }\r\n            isOn = true;\r\n            var options = {};\r\n            for (var i in attrs) {\r\n              if (scope.hasOwnProperty(i) && !angular.isUndefined(scope[i])) {\r\n                options[i] = scope[i];\r\n              }\r\n            }\r\n            options.currentDate = scope.currentDate;\r\n            options.showTodaysDate = dateOfTheDay;\r\n\r\n            var locals = { options: options };\r\n            $mdDialog.show({\r\n              template: template,\r\n              controller: PluginController,\r\n              controllerAs: 'picker',\r\n              locals: locals,\r\n              openFrom: element,\r\n              parent: angular.element(document.body),\r\n              bindToController: true,\r\n              disableParentScroll: false,\r\n              hasBackDrop: false,\r\n              skipHide: true\r\n            })\r\n              .then(function (v) {\r\n                scope.currentDate = v ? v._d : v;\r\n                isOn = false;\r\n\r\n                if (!moment(scope.currentDate).isSame(options.currentDate)) {\r\n                  $timeout(scope.ngChange, 0);\r\n                }\r\n\r\n                element.blur()\r\n\r\n              }, function () {\r\n                isOn = false;\r\n                element.blur()\r\n              })\r\n            ;\r\n          });\r\n        }\r\n      };\r\n    }])\r\n  /** Returns a service that opens a dialog when the attribute shown is called\r\n   The dialog serves to select a date/time/etc. depending on the options given to the function show\r\n\r\n   @param options extends mdcDefaultParams\r\n   {\r\n     date: {boolean} =true,\r\n       time: {boolean] =true,\r\n       format: {string} ='YYYY-MM-DD',\r\n       minDate: {strign} =null,\r\n       maxDate: {string} =null,\r\n       currentDate: {string} =null,\r\n       lang: {string} =mdcDatetimePickerDefaultLocale,\r\n       weekStart: {int} =0,\r\n       shortTime: {boolean} =false,\r\n       cancelText: {string} ='Cancel',\r\n       todayText: {string} ='Today',\r\n       okText: {string} ='OK',\r\n       amText: {string} ='AM',\r\n       pmText: {string} ='PM'\r\n   }\r\n @return promise\r\n  */\r\n  .factory('dateTimeDialog', [\"$mdDialog\", \"$q\", \"mdcDefaultParams\", function ($mdDialog, $q, mdcDefaultParams) {\r\n    var accepted_options = ['time', 'date', 'minDate', 'maxDate', 'shortTime', 'format', 'cancelText', 'todayText', 'okText', 'lang', 'amText', 'pmText']\r\n\r\n    var service = {\r\n      show: function (options) {\r\n        var deferred = $q.defer();\r\n        var params = mdcDefaultParams;\r\n        for (var i in options) {\r\n          if (accepted_options.indexOf[i] != -1) {\r\n            params = options[i];\r\n          }\r\n        }\r\n        var locals = { options: options };\r\n        $mdDialog.show({\r\n          template: template,\r\n          controller: PluginController,\r\n          controllerAs: 'picker',\r\n          locals: locals,\r\n          parent: angular.element(document.body),\r\n          bindToController: true,\r\n          clickOutsideToClose: true,\r\n          disableParentScroll: false\r\n        })\r\n          .then(function (v) {\r\n            var currentDate = v ? v._d : v;\r\n            deferred.resolve(v ? v._d : v);\r\n            //isOn = false;\r\n          }, function () {\r\n            deferred.reject();\r\n            //isOn = false;\r\n          })\r\n        return deferred.promise;\r\n      }\r\n    }\r\n    return service;\r\n\r\n  }])\r\n;\r\n\r\nvar PluginController = function ($scope, $mdDialog, mdcDatetimePickerDefaultLocale, mdcDefaultParams) {\r\n  this.currentView = VIEW_STATES.DATE;\r\n  this._dialog = $mdDialog;\r\n\r\n  this.minDate;\r\n  this.maxDate;\r\n\r\n  this._attachedEvents = [];\r\n  this.VIEWS = VIEW_STATES;\r\n\r\n  this.params = mdcDefaultParams\r\n  this.meridien = 'AM';\r\n  this.params = angular.extend(this.params, this.options);\r\n  this.init();\r\n};\r\nPluginController.$inject = ['$scope', '$mdDialog', 'mdcDatetimePickerDefaultLocale', 'mdcDefaultParams'];\r\nPluginController.prototype = {\r\n  init: function () {\r\n    this.timeMode = this.params.time && !this.params.date;\r\n    this.dateMode = this.params.date;\r\n    this.initDates();\r\n    this.start();\r\n  },\r\n  currentNearest5Minute: function () {\r\n    var date = this.currentDate || moment();\r\n    var minutes = (5 * Math.round(date.minute() / 5));\r\n    if (minutes >= 60) {\r\n      minutes = 55; //always push down\r\n    }\r\n    return moment(date).minutes(minutes);\r\n  },\r\n  initDates: function () {\r\n    var that = this;\r\n    var _dateParam = function (input, fallback) {\r\n      var ret = null;\r\n      if (angular.isDefined(input) && input !== null && input !== '') {\r\n        if (angular.isString(input)) {\r\n          if (typeof(that.params.format) !== 'undefined' && that.params.format !== null) {\r\n            ret = moment(input, that.params.format).locale(that.params.lang);\r\n          }\r\n          else {\r\n            ret = moment(input).locale(that.params.lang);\r\n          }\r\n        } else if (typeof input === 'number') {\r\n          ret = moment(input).locale(that.params.lang);\r\n        } else {\r\n          if (angular.isDate(input)) {\r\n            var x = input.getTime();\r\n            ret = moment(x, \"x\").locale(that.params.lang);\r\n          } else if (input._isAMomentObject) {\r\n            ret = input;\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        ret = fallback;\r\n      }\r\n      return ret;\r\n    };\r\n\r\n    this.currentDate = _dateParam(this.params.currentDate, moment());\r\n    this.minDate = _dateParam(this.params.minDate);\r\n    this.maxDate = _dateParam(this.params.maxDate);\r\n    this.selectDate(this.currentDate);\r\n  },\r\n  initDate: function (d) {\r\n    this.currentView = VIEW_STATES.DATE;\r\n  },\r\n  initHours: function () {\r\n    this.currentView = VIEW_STATES.HOUR;\r\n  },\r\n  initMinutes: function () {\r\n    this.currentView = VIEW_STATES.MINUTE;\r\n  },\r\n  isAfterMinDate: function (date, checkHour, checkMinute) {\r\n    var _return = true;\r\n\r\n    if (typeof(this.minDate) !== 'undefined' && this.minDate !== null) {\r\n      var _minDate = moment(this.minDate);\r\n      var _date = moment(date);\r\n\r\n      if (!checkHour && !checkMinute) {\r\n        _minDate.hour(0);\r\n        _minDate.minute(0);\r\n\r\n        _date.hour(0);\r\n        _date.minute(0);\r\n      }\r\n\r\n      _minDate.second(0);\r\n      _date.second(0);\r\n      _minDate.millisecond(0);\r\n      _date.millisecond(0);\r\n\r\n      if (!checkMinute) {\r\n        _date.minute(0);\r\n        _minDate.minute(0);\r\n\r\n        _return = (parseInt(_date.format(\"X\")) >= parseInt(_minDate.format(\"X\")));\r\n      }\r\n      else {\r\n        _return = (parseInt(_date.format(\"X\")) >= parseInt(_minDate.format(\"X\")));\r\n      }\r\n    }\r\n\r\n    return _return;\r\n  },\r\n  isBeforeMaxDate: function (date, checkTime, checkMinute) {\r\n    var _return = true;\r\n\r\n    if (typeof(this.maxDate) !== 'undefined' && this.maxDate !== null) {\r\n      var _maxDate = moment(this.maxDate);\r\n      var _date = moment(date);\r\n\r\n      if (!checkTime && !checkMinute) {\r\n        _maxDate.hour(0);\r\n        _maxDate.minute(0);\r\n\r\n        _date.hour(0);\r\n        _date.minute(0);\r\n      }\r\n\r\n      _maxDate.second(0);\r\n      _date.second(0);\r\n      _maxDate.millisecond(0);\r\n      _date.millisecond(0);\r\n\r\n      if (!checkMinute) {\r\n        _date.minute(0);\r\n        _maxDate.minute(0);\r\n\r\n        _return = (parseInt(_date.format(\"X\")) <= parseInt(_maxDate.format(\"X\")));\r\n      }\r\n      else {\r\n        _return = (parseInt(_date.format(\"X\")) <= parseInt(_maxDate.format(\"X\")));\r\n      }\r\n    }\r\n\r\n    return _return;\r\n  },\r\n  selectDate: function (date) {\r\n    if (date) {\r\n      this.currentDate = moment(date);\r\n      if (!this.isAfterMinDate(this.currentDate)) {\r\n        this.currentDate = moment(this.minDate);\r\n      }\r\n\r\n      if (!this.isBeforeMaxDate(this.currentDate)) {\r\n        this.currentDate = moment(this.maxDate);\r\n      }\r\n      this.currentDate.locale(this.params.lang);\r\n      this.calendarStart = moment(this.currentDate);\r\n      this.meridien = this.currentDate.hour() >= 12 ? 'PM' : 'AM';\r\n    }\r\n  },\r\n  setName: function () {\r\n    var text = \"\";\r\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n    for (var i = 0; i < 5; i++) {\r\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return text;\r\n  },\r\n  isPM: function () {\r\n    return this.meridien === 'PM';\r\n  },\r\n  incrementYear: function (amount) {\r\n    if (amount === 1 && this.isNextYearVisible()) {\r\n      this.selectDate(this.currentDate.add(amount, 'year'));\r\n    }\r\n\r\n    if (amount === -1 && this.isPreviousYearVisible()) {\r\n      this.selectDate(this.currentDate.add(amount, 'year'));\r\n    }\r\n  },\r\n  isPreviousMonthVisible: function () {\r\n    return this.calendarStart && this.isAfterMinDate(moment(this.calendarStart).startOf('month'), false, false);\r\n  },\r\n  isNextMonthVisible: function () {\r\n    return this.calendarStart && this.isBeforeMaxDate(moment(this.calendarStart).endOf('month'), false, false);\r\n  },\r\n  isPreviousYearVisible: function () {\r\n    return this.calendarStart && this.isAfterMinDate(moment(this.calendarStart).startOf('year'), false, false);\r\n  },\r\n  isNextYearVisible: function () {\r\n    return this.calendarStart && this.isBeforeMaxDate(moment(this.calendarStart).endOf('year'), false, false);\r\n  },\r\n  isHourAvailable: function (hour) {\r\n    var _date = moment(this.currentDate);\r\n    _date.hour(this.convertHours(hour)).minute(0).second(0);\r\n    return this.isAfterMinDate(_date, true, false) && this.isBeforeMaxDate(_date, true, false);\r\n  },\r\n  isMinuteAvailable: function (minute) {\r\n    var _date = moment(this.currentDate);\r\n    _date.minute(minute).second(0);\r\n    return this.isAfterMinDate(_date, true, true) && this.isBeforeMaxDate(_date, true, true);\r\n  },\r\n  start: function () {\r\n    this.currentView = VIEW_STATES.DATE;\r\n    //this.initDates();\r\n    if (this.params.date) {\r\n      this.initDate();\r\n    } else {\r\n      if (this.params.time) {\r\n        this.initHours();\r\n      }\r\n    }\r\n  },\r\n  today: function () {\r\n    this.selectDate(Date.now());\r\n  },\r\n  ok: function () {\r\n    switch (this.currentView) {\r\n      case VIEW_STATES.DATE:\r\n        if (this.params.time === true) {\r\n          this.initHours();\r\n        }\r\n        else {\r\n          this.hide(true);\r\n        }\r\n        break;\r\n      case VIEW_STATES.HOUR:\r\n        this.initMinutes();\r\n        break;\r\n      case VIEW_STATES.MINUTE:\r\n        this.hide(true);\r\n        break;\r\n    }\r\n  },\r\n  cancel: function () {\r\n    if (this.params.time) {\r\n      switch (this.currentView) {\r\n        case VIEW_STATES.DATE:\r\n          this.hide();\r\n          break;\r\n        case VIEW_STATES.HOUR:\r\n          if (this.params.date) {\r\n            this.initDate();\r\n          }\r\n          else {\r\n            this.hide();\r\n          }\r\n          break;\r\n        case VIEW_STATES.MINUTE:\r\n          this.initHours();\r\n          break;\r\n      }\r\n    }\r\n    else {\r\n      this.hide();\r\n    }\r\n  },\r\n  selectMonthBefore: function () {\r\n    this.calendarStart.subtract(1, 'months');\r\n  },\r\n  selectMonthAfter: function () {\r\n    this.calendarStart.add(1, 'months');\r\n  },\r\n  selectYearBefore: function () {\r\n    this.calendarStart.subtract(1, 'years');\r\n  },\r\n  selectYearAfter: function () {\r\n    this.calendarStart.add(1, 'years');\r\n  },\r\n  selectAM: function () {\r\n    if (this.isHourAvailable(0) || this.isHourAvailable(12)) {\r\n      if (this.currentDate.hour() >= 12) {\r\n        this.selectDate(this.currentDate.subtract(12, 'hours'));\r\n      }\r\n      if (!this.isHourAvailable(this.currentDate.hour())) {\r\n        this.selectDate(this.currentDate.hour(this.minDate.hour()));\r\n      }\r\n      if (!this.isMinuteAvailable(this.currentDate.minute())) {\r\n        this.selectDate(this.currentDate.minute(this.minDate.minute()));\r\n      }\r\n    }\r\n  },\r\n  selectPM: function () {\r\n    if (this.isHourAvailable(13) || this.isHourAvailable(24)) {\r\n      if (this.currentDate.hour() < 12) {\r\n        this.selectDate(this.currentDate.add(12, 'hours'));\r\n      }\r\n      if (!this.isHourAvailable(this.currentDate.hour())) {\r\n        this.selectDate(this.currentDate.hour(this.maxDate.hour()));\r\n      }\r\n      if (!this.isMinuteAvailable(this.currentDate.minute())) {\r\n        this.selectDate(this.currentDate.minute(this.maxDate.minute()));\r\n      }\r\n    }\r\n  },\r\n  convertHours: function (h) {\r\n    var _return = h;\r\n    if ((h < 12) && this.isPM())\r\n      _return += 12;\r\n\r\n    return _return;\r\n  },\r\n  hide: function (okBtn) {\r\n    if (okBtn) {\r\n      this._dialog.hide(this.currentDate);\r\n    } else {\r\n      this._dialog.cancel();\r\n    }\r\n  }\r\n};\r\n\r\n\r\nangular.module(moduleName)\r\n  .directive('mdcDatetimePickerCalendar', [\r\n    function () {\r\n\r\n      var YEAR_MIN = 1920,\r\n        YEAR_MAX = new Date().getFullYear() + 30,\r\n        MONTHS_IN_ALL = (YEAR_MAX - YEAR_MIN + 1) * 12,\r\n        ITEM_HEIGHT = 240,\r\n        MONTHS = [];\r\n      for (var i = 0; i < MONTHS_IN_ALL; i++) {\r\n        MONTHS.push(i);\r\n      }\r\n\r\n      var currentMonthIndex = function (date) {\r\n        var year = date.year();\r\n        var month = date.month();\r\n        return ((year - YEAR_MIN) * 12) + month - 1;\r\n      };\r\n\r\n      return {\r\n        restrict: 'E',\r\n        scope: {\r\n          picker: '=',\r\n          date: '='\r\n        },\r\n        bindToController: true,\r\n        controllerAs: 'cal',\r\n        controller: ['$scope', function ($scope) {\r\n          this.$onInit = function() {\r\n            var calendar = this,\r\n              picker = this.picker,\r\n              days = [];\r\n\r\n            for (var i = picker.params.weekStart; days.length < 7; i++) {\r\n              if (i > 6) {\r\n                i = 0;\r\n              }\r\n              days.push(i.toString());\r\n            }\r\n\r\n            calendar.week = days;\r\n            if (!picker.maxDate && !picker.minDate) {\r\n              calendar.months = MONTHS;\r\n            } else {\r\n              var low = picker.minDate ? currentMonthIndex(picker.minDate) : 0;\r\n              var high = picker.maxDate ? (currentMonthIndex(picker.maxDate) + 1) : MONTHS_IN_ALL;\r\n              calendar.months = MONTHS.slice(low, high);\r\n            }\r\n\r\n\r\n            calendar.getItemAtIndex = function (index) {\r\n              var month = ((index + 1) % 12) || 12;\r\n              var year = YEAR_MIN + Math.floor(index / 12);\r\n              var monthObj = moment(picker.currentDate)\r\n                .year(year)\r\n                .month(month);\r\n              return generateMonthCalendar(monthObj);\r\n            };\r\n\r\n            calendar.topIndex = currentMonthIndex(picker.currentDate) - calendar.months[0];\r\n\r\n            $scope.$watch(function () {\r\n              return picker.currentDate ? picker.currentDate.format('YYYY-MM') : '';\r\n            }, function (val2, val1) {\r\n              if (val2 != val1) {\r\n                var nDate = moment(val2, 'YYYY-MM');\r\n                var index = currentMonthIndex(nDate) - calendar.months[0];\r\n                if (calendar.topIndex != index) {\r\n                  calendar.topIndex = index;\r\n                }\r\n              }\r\n            });\r\n\r\n            var generateMonthCalendar = function (date) {\r\n              var month = {};\r\n              if (date !== null) {\r\n                month.name = date.format('MMMM YYYY');\r\n                var startOfMonth = moment(date).locale(picker.params.lang).startOf('month')\r\n                    .hour(date.hour())\r\n                    .minute(date.minute())\r\n                  ;\r\n                var iNumDay = startOfMonth.format('d');\r\n                month.days = [];\r\n                for (var i = startOfMonth.date(); i <= startOfMonth.daysInMonth(); i++) {\r\n                  if (i === startOfMonth.date()) {\r\n                    var iWeek = calendar.week.indexOf(iNumDay.toString());\r\n                    if (iWeek > 0) {\r\n                      for (var x = 0; x < iWeek; x++) {\r\n                        month.days.push(0);\r\n                      }\r\n                    }\r\n                  }\r\n                  month.days.push(moment(startOfMonth).locale(picker.params.lang).date(i));\r\n                }\r\n\r\n                var daysInAWeek = 7, daysTmp = [], slices = Math.ceil(month.days.length / daysInAWeek);\r\n                for (var j = 0; j < slices; j++) {\r\n                  daysTmp.push(month.days.slice(j * daysInAWeek, (j + 1) * daysInAWeek));\r\n                }\r\n                month.days = daysTmp;\r\n                return month;\r\n              }\r\n\r\n            };\r\n\r\n            calendar.toDay = function (i) {\r\n              return moment(parseInt(i), \"d\")\r\n                .locale(picker.params.lang)\r\n                .format(\"dd\")\r\n                .substring(0, 1);\r\n            };\r\n\r\n            calendar.isInRange = function (date) {\r\n              return picker.isAfterMinDate(moment(date), false, false)\r\n                && picker.isBeforeMaxDate(moment(date), false, false);\r\n            };\r\n\r\n            calendar.selectDate = function (date) {\r\n              if (date) {\r\n                if (calendar.isSelectedDay(date)) {\r\n                  return picker.ok();\r\n                }\r\n                picker.selectDate(moment(date).hour(calendar.date.hour()).minute(calendar.date.minute()));\r\n              }\r\n            };\r\n\r\n            calendar.isSelectedDay = function (m) {\r\n              return m && calendar.date.date() === m.date() && calendar.date.month() === m.month() && calendar.date.year() === m.year();\r\n            };\r\n\r\n            calendar.isDateOfTheDay = function (m) {\r\n              var today = calendar.picker.options.showTodaysDate;\r\n              if (today === null)\r\n                return false;\r\n\r\n              return m && today.date() === m.date() && today.month() === m.month() && today.year() === m.year();\r\n            }\r\n          }\r\n        }],\r\n        template: '<md-virtual-repeat-container md-top-index=\"cal.topIndex\" class=\"months\">' +\r\n        '<div md-virtual-repeat=\"idx in ::cal.months\" md-auto-shrink md-item-size=\"' + ITEM_HEIGHT + '\">' +\r\n        '     <div mdc-datetime-picker-calendar-month idx=\"idx\"></div>' +\r\n        '</div>' +\r\n        '</md-virtual-repeat-container>'\r\n      };\r\n    }])\r\n  .directive('mdcDatetimePickerCalendarMonth', ['$compile',\r\n    function ($compile) {\r\n      var buildCalendarContent = function (element, scope) {\r\n        var tbody = angular.element(element[0].querySelector('tbody'));\r\n        var calendar = scope.cal, month = scope.month;\r\n\r\n        var tbodyHtml = [];\r\n\r\n        month.days.forEach(function (weekDays, i) {\r\n          tbodyHtml.push('<tr>');\r\n          weekDays.forEach(function (weekDay, j) {\r\n            tbodyHtml.push('<td>');\r\n            if (weekDay) {\r\n              if (calendar.isInRange(weekDay)) {\r\n                //build a\r\n                var scopeRef = 'month[\\'days\\'][' + i + '][' + j + ']';\r\n\r\n                tbodyHtml.push('<a href=\"#\" mdc-dtp-noclick class=\"dtp-select-day\" ng-class=\"{selected: cal.isSelectedDay(' + scopeRef + '), hilite: cal.isDateOfTheDay(' + scopeRef + ')}\" ng-click=\"cal.selectDate(' + scopeRef + ')\">');\r\n                tbodyHtml.push(weekDay.format('D'));\r\n                tbodyHtml.push('</a>');\r\n                ;\r\n              } else {\r\n                tbodyHtml.push('<span class=\"dtp-select-day\">');\r\n                tbodyHtml.push(weekDay.format('D'));\r\n                tbodyHtml.push('</span>');\r\n              }\r\n            }\r\n            tbodyHtml.push('</td>');\r\n          });\r\n          tbodyHtml.push('</tr>');\r\n        });\r\n\r\n        tbody.html(tbodyHtml.join(''));\r\n        $compile(tbody)(scope);\r\n      };\r\n\r\n      return {\r\n        scope: {\r\n          idx: '='\r\n        },\r\n        require: '^mdcDatetimePickerCalendar',\r\n        restrict: 'AE',\r\n        template: '<div class=\"dtp-picker-month\">{{month.name}}</div>'\r\n        + '<table class=\"table dtp-picker-days\">'\r\n        + '    <thead>'\r\n        + '    <tr>'\r\n        + '        <th ng-repeat=\"day in cal.week track by $index\">{{cal.toDay(day)}}</th>'\r\n        + '    </tr>'\r\n        + '    </thead>'\r\n        + '    <tbody>'\r\n        + '    </tbody>'\r\n        + '</table>',\r\n        link: function (scope, element, attrs, calendar) {\r\n          scope.cal = calendar;\r\n          scope.month = calendar.getItemAtIndex(parseInt(scope.idx));\r\n          buildCalendarContent(element, scope);\r\n          scope.$watch(function () {\r\n            return scope.idx;\r\n          }, function (idx, oldIdx) {\r\n            if (idx != oldIdx) {\r\n              scope.month = calendar.getItemAtIndex(parseInt(scope.idx));\r\n              buildCalendarContent(element, scope);\r\n            }\r\n          });\r\n        }\r\n      };\r\n    }\r\n  ])\r\n;\r\n\r\nangular.module(moduleName)\r\n  .directive('mdcDtpNoclick', function () {\r\n    return {\r\n      link: function (scope, el) {\r\n        el.on('click', function (e) {\r\n          e.preventDefault();\r\n        });\r\n      }\r\n    };\r\n  });\r\nangular.module(moduleName)\r\n  .directive('mdcDatetimePickerClock', [\r\n    function () {\r\n\r\n      var template = '<div class=\"dtp-picker-clock\"><span ng-if=\"!points || points.length < 1\">&nbsp;</span>'\r\n        + '<div ng-repeat=\"point in points\" class=\"dtp-picker-time\" ng-style=\"point.style\">'\r\n        + '   <a href=\"#\" mdc-dtp-noclick ng-class=\"{selected: point.value===currentValue}\" class=\"dtp-select-hour\" ng-click=\"setTime(point.value)\" ng-if=\"pointAvailable(point)\">{{point.display}}</a>'\r\n        + '   <a href=\"#\" mdc-dtp-noclick class=\"disabled dtp-select-hour\" ng-if=\"!pointAvailable(point)\">{{point.display}}</a>'\r\n        + '</div>'\r\n        + '<div class=\"dtp-hand dtp-hour-hand\"></div>'\r\n        + '<div class=\"dtp-hand dtp-minute-hand\"></div>'\r\n        + '<div class=\"dtp-clock-center\"></div>'\r\n        + '</div>';\r\n\r\n      return {\r\n        restrict: 'E',\r\n        template: template,\r\n        link: function (scope, element, attrs) {\r\n          var minuteMode = attrs.mode === 'minutes';\r\n          var picker = scope.picker;\r\n          //banking on the fact that there will only be one at a time\r\n          var componentRoot = document.querySelector('md-dialog.dtp');\r\n          var exec = function () {\r\n            var clock = angular.element(element[0].querySelector('.dtp-picker-clock')),\r\n              pickerEl = angular.element(componentRoot.querySelector('.dtp-picker'));\r\n\r\n            var w = componentRoot.querySelector('.dtp-content').offsetWidth;\r\n            var pl = parseInt(css(pickerEl, 'paddingLeft').replace('px', '')) || 0;\r\n            var pr = parseInt(css(pickerEl, 'paddingRight').replace('px', '')) || 0;\r\n            var ml = parseInt(css(clock, 'marginLeft').replace('px', '')) || 0;\r\n            var mr = parseInt(css(clock, 'marginRight').replace('px', '')) || 0;\r\n            //set width\r\n            var clockWidth = (w - (ml + mr + pl + pr));\r\n            clock.css('width', (clockWidth) + 'px');\r\n\r\n            var pL = parseInt(css(pickerEl, 'paddingLeft').replace('px', '')) || 0;\r\n            var pT = parseInt(css(pickerEl, 'paddingTop').replace('px', '')) || 0;\r\n            var mL = parseInt(css(clock, 'marginLeft').replace('px', '')) || 0;\r\n            var mT = parseInt(css(clock, 'marginTop').replace('px', '')) || 0;\r\n\r\n            var r = (clockWidth / 2);\r\n            var j = r / 1.2; //???\r\n\r\n            var points = [];\r\n\r\n            for (var h = 0; h < 12; ++h) {\r\n              var x = j * Math.sin(Math.PI * 2 * (h / 12));\r\n              var y = j * Math.cos(Math.PI * 2 * (h / 12));\r\n              var left = (r + x + pL / 2) - (pL + mL);\r\n              var top = (r - y - mT / 2) - (pT + mT);\r\n\r\n              var hour = {\r\n                left: left,\r\n                top: top,\r\n                value: (minuteMode ? (h * 5) : h), //5 for minute 60/12\r\n                style: { 'margin-left': left + 'px', 'margin-top': top + 'px' }\r\n              };\r\n\r\n              if (minuteMode) {\r\n                hour.display = hour.value < 10 ? ('0' + hour.value) : hour.value;\r\n              } else {\r\n\r\n                if (picker.params.shortTime) {\r\n                  hour.display = (h === 0) ? 12 : h;\r\n                } else {\r\n                  hour.display = picker.isPM() ? h + 12 : h;\r\n                }\r\n              }\r\n\r\n\r\n              points.push(hour);\r\n            }\r\n\r\n            scope.points = points;\r\n            setCurrentValue();\r\n            clock.css('height', clockWidth + 'px');\r\n            //picker.initHands(true);\r\n\r\n            var clockCenter = element[0].querySelector('.dtp-clock-center');\r\n            var centerWidth = (clockCenter.offsetWidth / 2) || 7.5,\r\n              centerHeight = (clockCenter.offsetHeight / 2) || 7.5;\r\n            var _hL = r / 1.8;\r\n            var _mL = r / 1.5;\r\n\r\n            angular.element(element[0].querySelector('.dtp-hour-hand')).css({\r\n              left: r + (mL * 1.5) + 'px',\r\n              height: _hL + 'px',\r\n              marginTop: (r - _hL - pL) + 'px'\r\n            }).addClass(!minuteMode ? 'on' : '');\r\n\r\n            angular.element(element[0].querySelector('.dtp-minute-hand')).css\r\n            ({\r\n              left: r + (mL * 1.5) + 'px',\r\n              height: _mL + 'px',\r\n              marginTop: (r - _mL - pL) + 'px'\r\n            }).addClass(minuteMode ? 'on' : '');\r\n\r\n            angular.element(clockCenter).css({\r\n              left: (r + pL + mL - centerWidth) + 'px',\r\n              marginTop: (r - (mL / 2)) - centerHeight + 'px'\r\n            });\r\n            animateHands();\r\n          };\r\n\r\n          var animateHands = function () {\r\n            var _date = picker.currentNearest5Minute();\r\n            var h = _date.hour();\r\n            var m = _date.minute();\r\n\r\n            rotateElement(angular.element(element[0].querySelector('.dtp-hour-hand')), (360 / 12) * h);\r\n            var mdg = ((360 / 60) * (5 * Math.round(m / 5)));\r\n            rotateElement(angular.element(element[0].querySelector('.dtp-minute-hand')), mdg);\r\n          };\r\n\r\n          var rotateElement = function (el, deg) {\r\n            angular.element(el).css({\r\n              WebkitTransform: 'rotate(' + deg + 'deg)',\r\n              '-moz-transform': 'rotate(' + deg + 'deg)',\r\n              '-ms-transform': 'rotate(' + deg + 'deg)',\r\n              'transform': 'rotate(' + deg + 'deg)'\r\n            });\r\n          };\r\n\r\n\r\n          var setCurrentValue = function () {\r\n            var date = picker.currentNearest5Minute();\r\n            scope.currentValue = minuteMode ? date.minute() : (date.hour() % 12);\r\n          };\r\n\r\n          scope.$watch(function () {\r\n            var tmp = picker.currentNearest5Minute();\r\n            return tmp ? tmp.format('HH:mm') : '';\r\n          }, function (newVal) {\r\n            setCurrentValue();\r\n            animateHands();\r\n          });\r\n\r\n\r\n          var setDisplayPoints = function (isPM, points) {\r\n            for (var i = 0; i < points.length; i++) {\r\n              points[i].display = i;\r\n              if (isPM) {\r\n                points[i].display += 12;\r\n              }\r\n            }\r\n            return points;\r\n          };\r\n\r\n          if (!picker.params.shortTime) {\r\n            scope.$watch('picker.meridien', function () {\r\n              if (!minuteMode) {\r\n                if (scope.points) {\r\n                  var points = setDisplayPoints(picker.isPM(), angular.copy(scope.points));\r\n                  scope.points = points;\r\n                }\r\n              }\r\n            });\r\n          }\r\n\r\n\r\n          scope.setTime = function (val) {\r\n            if (val === scope.currentValue) {\r\n              picker.ok();\r\n            }\r\n\r\n            if (!minuteMode) {\r\n              picker.currentDate.hour(picker.isPM() ? (val + 12) : val);\r\n            } else {\r\n              picker.currentDate.minute(val);\r\n            }\r\n            picker.currentDate.second(0)\r\n          };\r\n\r\n          scope.pointAvailable = function (point) {\r\n            return minuteMode ? picker.isMinuteAvailable(point.value) : picker.isHourAvailable(point.value);\r\n          };\r\n\r\n          var unWatcher = scope.$watch(function () {\r\n            return element[0].querySelectorAll('div').length;\r\n          }, function () {\r\n            exec();\r\n            unWatcher();\r\n          });\r\n        }\r\n      }\r\n    }]);\r\n\r\n\r\n"]}